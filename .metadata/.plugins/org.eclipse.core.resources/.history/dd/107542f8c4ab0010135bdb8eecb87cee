http
    .csrf(csrf -> csrf.disable())
    .authorizeHttpRequests(auth -> auth
        .requestMatchers("/api/v1/**").access((authz, ctx) ->
            ctx.getRequest().getRemoteAddr().equals("127.0.0.1")
                ? org.springframework.security.authorization.AuthorizationDecision.PERMIT
                : org.springframework.security.authorization.AuthorizationDecision.DENY
        )
        .anyRequest().denyAll()
    );
